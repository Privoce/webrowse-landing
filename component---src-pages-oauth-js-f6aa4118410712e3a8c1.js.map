{"version":3,"file":"component---src-pages-oauth-js-f6aa4118410712e3a8c1.js","mappings":"4KAEMA,E,QAAkBC,QAAAA,QAAAA,WAAH,kEAAGA,CAAH,+IAmDrB,UArCkB,WAChB,OAAwBC,EAAAA,EAAAA,UAAS,MAA1BC,EAAP,KAAaC,EAAb,KACA,GAAsBF,EAAAA,EAAAA,UAAS,MAAxBG,EAAP,KAAYC,EAAZ,KAyBA,OAxBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAc,mCAAG,mGACfC,EAAS,IAAIC,gBAAgBC,SAASC,QACxCC,EAAMJ,EAAOK,IAAI,OACjBC,EAAQN,EAAOK,IAAI,SAHF,kBAKAE,MAAM,wCACiBH,EADlB,IACyBE,GAN9B,cAKbE,EALa,gBAQAA,EAAKC,OARL,OAQbC,EARa,OASnBf,EAAQe,EAAKhB,MATM,kDAWnBG,EAAO,mBAXY,0DAAH,qDAepBE,MACC,KACHD,EAAAA,EAAAA,YAAU,WACJJ,IACFQ,SAASS,KAAOjB,KAEjB,CAACA,IAGF,gBAACH,EAAD,qCAIE,uBAAKqB,UAAU,OAAOhB","sources":["webpack://webrowse-landing/./src/pages/oauth.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nconst StyledContainer = styled.section`\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 15px;\n  font-size: 22px;\n  font-weight: bold;\n  .err {\n    color: red;\n  }\n`;\n\nconst OAuthPage = () => {\n  const [link, setLink] = useState(null);\n  const [err, setErr] = useState(null);\n  useEffect(() => {\n    const fetchLoginLink = async () => {\n      const params = new URLSearchParams(location.search);\n      let uid = params.get(\"uid\");\n      let uname = params.get(\"uname\");\n      try {\n        const resp = await fetch(\n          `http://localhost:4000/rustchat/oauth/${uid}/${uname}`\n        );\n        const data = await resp.json();\n        setLink(data.link);\n      } catch (error) {\n        setErr(\"something error\");\n      }\n    };\n\n    fetchLoginLink();\n  }, []);\n  useEffect(() => {\n    if (link) {\n      location.href = link;\n    }\n  }, [link]);\n\n  return (\n    <StyledContainer>\n      {/* <div className=\"title\"> */}\n      Logining to Webrowse Rustchat\n      {/* </div> */}\n      <div className=\"err\">{err}</div>\n    </StyledContainer>\n  );\n};\n\nexport default OAuthPage;\n"],"names":["StyledContainer","styled","useState","link","setLink","err","setErr","useEffect","fetchLoginLink","params","URLSearchParams","location","search","uid","get","uname","fetch","resp","json","data","href","className"],"sourceRoot":""}