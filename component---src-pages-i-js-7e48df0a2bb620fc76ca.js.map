{"version":3,"file":"component---src-pages-i-js-7e48df0a2bb620fc76ca.js","mappings":"iNAEMA,E,KAAgBC,QAAAA,QAAAA,WAAH,4DAAGA,CAAH,uJAcJ,SAASC,IACpB,OAAwBC,EAAAA,EAAAA,UAAS,IAA1BC,EAAP,KAAaC,EAAb,KACA,GAAsBF,EAAAA,EAAAA,UAAS,IAAxBG,EAAP,KAAYC,EAAZ,KAwBA,OAvBAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAS,mCAAG,kHAEJC,EAAS,IAAIC,gBAAgBC,SAASC,QACtCC,EAAOJ,EAAOK,IAAI,MAAQ,GAHtB,SAISC,MAAM,0CAA0CF,GAJzD,cAIJG,EAJI,gBAKQA,EAAKC,OALb,OAKJC,EALI,OAOVd,EAAQe,KAAKC,UAAUF,IAPb,EAQYA,EAAdG,KARE,cAQK,GARL,GASmBC,MAAM,KAA5BC,EATG,KASKC,EATL,KAUND,GAAUC,EACVb,SAASc,KAAT,0CAA0DF,EAA1D,QAAwEC,EAAxE,0CAEAlB,EAAO,SAbD,kDAgBVA,EAAO,UAhBG,0DAAH,qDAoBfE,MACD,IACCH,EACO,gBAACN,EAAD,CAAe2B,MAAO,CAAEC,MAAO,SAClC,uBAAKC,UAAU,OACVvB,IAKTF,EAAO,KAAO,gBAACJ,EAAD,KACV,uBAAK6B,UAAU,OAAf","sources":["webpack://webrowse-landing/./src/pages/i.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components';\nconst StyledWrapper = styled.section`\n  width:100vw;\n  height:100vh;\n  background:#fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .tip{\n      color: #333;\n      font-size: 30px;\n      font-weight: bold;\n\n  }\n`;\nexport default function InvitePage() {\n    const [link, setLink] = useState(\"\");\n    const [err, setErr] = useState(\"\")\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const params = new URLSearchParams(location.search)\n                const rand = params.get('r') || '';\n                const resp = await fetch(`https://vera.nicegoodthings.com/invite/${rand}`);\n                const obj = await resp.json();\n\n                setLink(JSON.stringify(obj))\n                const { data = \"\" } = obj;\n                const [roomId, winId] = data.split('|');\n                if (roomId && winId) {\n                    location.href = `https://nicegoodthings.com/transfer/wb/${roomId}?wid=${winId}&extid=nnbkebemeehfhiimeghnkdocfbeogenn`\n                } else {\n                    setErr('参数不完整')\n                }\n            } catch (error) {\n                setErr(\"API 有误\")\n            }\n\n        }\n        fetchData()\n    }, [])\n    if (err) {\n        return <StyledWrapper style={{ color: '#fff' }}>\n            <div className=\"tip\">\n                {err}\n            </div>\n        </StyledWrapper>\n    }\n    return (\n        link ? null : <StyledWrapper>\n            <div className=\"tip\">\n                Waiting...\n            </div>\n        </StyledWrapper>\n    )\n}\n"],"names":["StyledWrapper","styled","InvitePage","useState","link","setLink","err","setErr","useEffect","fetchData","params","URLSearchParams","location","search","rand","get","fetch","resp","json","obj","JSON","stringify","data","split","roomId","winId","href","style","color","className"],"sourceRoot":""}