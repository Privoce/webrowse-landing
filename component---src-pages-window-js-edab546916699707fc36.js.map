{"version":3,"file":"component---src-pages-window-js-edab546916699707fc36.js","mappings":"2OAIMA,GAAOC,EAAAA,EAAAA,WAAH,wGAWJC,EAAYC,EAAAA,QAAAA,QAAAA,WAAH,6DAAGA,CAAH,6qCAQAH,GAuETI,EAAU,CACdC,EAAG,wBACHC,EAAG,wCACHC,EAAG,mCAEU,SAASC,IACtB,IAAMC,GAAUC,EAAAA,EAAAA,QAAO,MACvB,GAA0BC,EAAAA,EAAAA,UAAS,MAA5BC,EAAP,KAAcC,EAAd,KACA,GAAwBF,EAAAA,EAAAA,UAAS,MAA1BG,EAAP,KAAaC,EAAb,MACAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAe,mCAAG,4GAEdC,EAAS,IAAIC,gBAAgBC,SAASC,QACtCC,EAAOJ,EAAOK,IAAI,QAAU,IAC5BC,EAAMN,EAAOK,IAAI,OACvBE,QAAQC,IAAIF,GACPA,EANe,iEAODG,MAASvB,EAAQkB,GAAZ,oBAAqCE,GAPzC,cAOdI,EAPc,iBAQJA,EAAKC,OARD,QAQhBC,EARgB,OASpBL,QAAQC,IAAI,CAAEI,IAAAA,IATM,EAUNA,EAAIC,QAAU,GAArBC,EAVa,KAWpBjB,EAAQiB,GAXY,kDAapBP,QAAQC,IAAI,CAAEd,MAAK,OACnBC,EAAS,KAAMoB,SAdK,0DAAH,qDAiBrBhB,MACC,IAOH,GAAIL,EAAO,OAAOA,EAClB,IAAKE,EAAM,MAAO,UAClB,IAAQoB,EAAgBpB,EAAhBoB,MAAOC,EAASrB,EAATqB,KACf,OACE,gCACE,gBAAC,IAAD,CAAQD,MAAM,kCACd,gBAAChC,EAAD,KACE,uBAAKkC,UAAU,WACb,sBAAIA,UAAU,SAASF,GACvB,sBAAIE,UAAU,OAAOC,IAAK5B,GACvB0B,EAAKG,KAAI,YAA+B,IAA5BC,EAA2B,EAA3BA,GAAIL,EAAuB,EAAvBA,MAAOM,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,IAC5B,OAAO,sBAAIL,UAAU,MAAMM,IAAKH,EAAIL,MAAOA,GACzC,qBAAGE,UAAU,OAAOO,KAAMF,EAAKG,OAAO,SAASC,MAAO,CAAEC,gBAAgB,OAAQN,EAAT,MAAqBN,QAIlG,0BAAQE,UAAU,MAAMW,QAtBV,YACT,OAAOtC,EAAQuC,QAAQC,iBAAiB,UAC7CC,SAAQ,SAAA7C,GACZA,EAAE8C,aAmBE","sources":["webpack://webrowse-landing/./src/pages/window.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport styled, { keyframes } from 'styled-components';\nimport { Helmet } from \"react-helmet\"\n\nconst AniG = keyframes`\n0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n`;\nconst StyledTip = styled.section`\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\n  background-size: 400% 400%;\n  animation: ${AniG} 15s ease infinite;\n  .content{\n    user-select: none;\n    color:#fff;\n    width: fit-content;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  .title{\n    font-size: 60px;\n    font-weight: 800;\n    margin-bottom: 60px;\n  }\n  .tabs{\n    max-height: 52vh;\n    overflow: scroll;\n    font-size: 30px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    list-style: none;\n    gap: 10px;\n    .tab{\n      font-size: 24px;\n      padding: 12px 0px 12px 25px;\n      border-radius: 10px;\n      border: 1px solid #eee;\n      transition: all .4s ease-in;\n      width: 600px;\n      .link{\n        padding:0 25px 0 35px;\n        display: block;\n        line-height: 2;\n        color:#fff;\n        text-decoration: none;\n        background-repeat: no-repeat;\n        background-size: 25px;\n        background-position-x: left;\n        background-position-y: center;\n        width: 100%;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      &:hover{\n        background:#eee;\n        .link{\n          color:#333\n        }\n      }\n    }\n  }\n  .btn{\n    cursor: pointer;\n    font-size: 30px;\n    padding: 12px 10px;\n    border-radius: 10px;\n    border: 1px solid #eee;\n    text-transform: uppercase;\n    background:none;\n    color: #fff;\n    margin-top: 30px;\n    transition: all .4s ease-in;\n    &:hover{\n        background:#eee;\n        color:#555;\n    }\n  }\n  }\n`;\nconst prefixs = {\n  l: 'http://localhost:4000',\n  s: 'https://stage.vera.nicegoodthings.com',\n  o: 'https://vera.nicegoodthings.com'\n}\nexport default function Window() {\n  const tabsRef = useRef(null);\n  const [error, setError] = useState(null)\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    const getWindowDetail = async () => {\n      try {\n        const params = new URLSearchParams(location.search)\n        const from = params.get('env') || 'o'\n        const wid = params.get('wid');\n        console.log(wid);\n        if (!wid) return;\n        const resp = await fetch(`${prefixs[from]}/webrowse/window/${wid}`);\n        let obj = await resp.json();\n        console.log({ obj });\n        const [win] = obj.window || [];\n        setData(win)\n      } catch (error) {\n        console.log({ error });\n        setError(error.message)\n      }\n    }\n    getWindowDetail()\n  }, []);\n  const handleOpenAll = () => {\n    const links = [...tabsRef.current.querySelectorAll('.link')];\n    links.forEach(l => {\n      l.click()\n    })\n  }\n  if (error) return error;\n  if (!data) return 'loading';\n  const { title, tabs } = data;\n  return (\n    <>\n      <Helmet title=\"workspace window landing page\"></Helmet>\n      <StyledTip>\n        <div className=\"content\">\n          <h1 className=\"title\">{title}</h1>\n          <ul className=\"tabs\" ref={tabsRef}>\n            {tabs.map(({ id, title, icon, url }) => {\n              return <li className=\"tab\" key={id} title={title}>\n                <a className=\"link\" href={url} target=\"_blank\" style={{ backgroundImage: `url(${icon})` }}>{title}</a>\n              </li>\n            })}\n          </ul>\n          <button className=\"btn\" onClick={handleOpenAll}>\n            open all\n          </button>\n        </div>\n      </StyledTip>\n    </>\n  )\n}\n"],"names":["AniG","keyframes","StyledTip","styled","prefixs","l","s","o","Window","tabsRef","useRef","useState","error","setError","data","setData","useEffect","getWindowDetail","params","URLSearchParams","location","search","from","get","wid","console","log","fetch","resp","json","obj","window","win","message","title","tabs","className","ref","map","id","icon","url","key","href","target","style","backgroundImage","onClick","current","querySelectorAll","forEach","click"],"sourceRoot":""}