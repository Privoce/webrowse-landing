{"version":3,"file":"component---src-pages-i-js-e1a518538fb80ae7e600.js","mappings":"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","sources":["webpack://webrowse-landing/./src/constants/APIs.js","webpack://webrowse-landing/./src/constants/ButtonCss.js","webpack://webrowse-landing/./src/pages/i.js"],"sourcesContent":["const SubscriptionCreate = `https://vera.nicegoodthings.com/subscription/create`\nconst FetchInviteData = `https://vera.nicegoodthings.com/invite/`\n\n\nexport { SubscriptionCreate, FetchInviteData }","const css = `\n    cursor: pointer;\n    text-decoration: none;\n    border-radius: 50px;\n    background: #52EDFF;\n    border:none;\n    font-size: 14px;\n    font-weight: bold;\n    padding: 12px 24px;\n    color: #000;\n    display: flex;\n    align-items: center;\n`;\n\n\nexport default css;","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components';\nimport btn_css from '../constants/ButtonCss'\nimport { FetchInviteData } from '../constants/APIs'\nconst StyledWrapper = styled.section`\nposition: relative;\n  width:100vw;\n  height:100vh;\n  background:#fff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 32px;\n  .tip{\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    color: #44494F;\n    font-weight: bold;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 20px;\n    gap: 10px;\n    em{\n        font-weight: 600;\n    }\n    .warning{\n        color: orange;\n        font-size: 20px;\n        line-height: 28px;\n    }\n  }\n  .btn{\n    background-color: #52E9FB;\n    border-radius: 20px;\n    color: #fff;\n    font-weight: bold;\n    font-size: 12px;\n    line-height: 18px;\n    padding: 4px 12px;\n    text-decoration: none;\n    &.disable{\n        background-color: #aaa;\n        pointer-events: none;\n    }\n  }\n  footer{\n      position: absolute;\n      bottom: 30px;\n      left: 50%;\n      transform: translateX(-50%);\n    font-weight: 600;\n    font-size: 20px;\n    line-height: 20px;\n    color:#44494F;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    .logo{\n        width:32px ;\n        height: 32px;\n    }\n  }\n`;\nconst StyledDownloads = styled.section`\n    padding:10px 0;\n    color: #fff;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap:64px ;\n    >.title{\n        color: #667085;\n      /* font-weight: bold; */\n      font-weight: 500;\n        font-size: 18px;\n        line-height: 20px;\n    }\n    .browsers{\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: center;\n      gap: 96px;\n      .bro{\n        color:inherit;\n        \n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 16px;\n        img{\n          width:64px ;\n          height: 64px;\n        }\n        .name{\n          font-size: 14px;\n          line-height: 14px;\n          text-align: center;\n          @media screen and (max-width: 414px) {\n            width: 64px;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n          }\n        }\n        .link{\n          margin-top: 8px;\n          text-transform: capitalize;\n          ${btn_css}\n            background: #FFFFFF;\n            box-shadow: 0px 2px 5px rgba(60, 66, 87, 0.08), 0px 0px 0px 1px rgba(60, 66, 87, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.12);\n            &.soon{\n                box-shadow:none;\n            }\n        }\n      }\n    }\n`;\nconst extId = `nnbkebemeehfhiimeghnkdocfbeogenn`;\nconst checkExtensionInstalled = (extid) => {\n    extid = extid || 'ccegbnlnelhgaefimiaklaindffpfcmh';\n    const checkUrl = `chrome-extension://nnbkebemeehfhiimeghnkdocfbeogenn/assets/favicon.png`;\n    return new Promise((resolve) => {\n        let img = document.createElement('img');\n        img.src = checkUrl;\n        img.onload = () => {\n            resolve(true);\n        };\n        img.onerror = () => {\n            resolve(false);\n        };\n    });\n};\nexport default function InvitePage() {\n    const [rand, setRand] = useState('');\n    const [loading, setloading] = useState(true);\n    const [installed, setInstalled] = useState(true);\n    const [disallow, setDisallow] = useState(false);\n    const [link, setLink] = useState(\"\");\n    const [title, setTitle] = useState(\"\");\n    const [err, setErr] = useState(\"\");\n    useEffect(() => {\n        const rand = location.hash.split('#')?.[1];\n        if (rand) {\n            setRand(rand)\n        }\n        const checkExtInstall = async () => {\n            const installed = await checkExtensionInstalled(extId);\n            setInstalled(installed)\n        }\n        checkExtInstall()\n    }, [])\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const resp = await fetch(`${FetchInviteData}${rand}`);\n                const obj = await resp.json();\n                console.log({ obj });\n                if (!obj) {\n                    setErr(\"空数据\");\n                    return;\n                }\n                const { roomId, winId, win, activeUsers } = obj;\n                setLink(`https://webrow.se/transfer?r=${roomId}&w=${winId}`)\n                setTitle(win?.title || \"Temporary Window\")\n                setloading(false);\n                // 检查参与人数的限制\n                if (win.user && win.user.level == 0 && activeUsers.length >= 5) {\n                    setDisallow(true);\n                }\n            } catch (error) {\n                setErr(\"API 有误\")\n            }\n\n        }\n        if (rand) {\n            fetchData()\n        }\n    }, [rand])\n    if (err) {\n        return <StyledWrapper style={{ color: '#fff' }}>\n            <div className=\"tip\">\n                {err}\n            </div>\n        </StyledWrapper>\n    }\n    return (\n        loading ? null : <StyledWrapper>\n            <div className=\"tip\">\n                <p>You're invited to join <em>{title}</em></p>\n                {disallow && <p className=\"warning\">Active users over the limit, contact the inviter please.</p>}\n            </div>\n            <a className={`btn ${(!installed || disallow) ? \"disable\" : ''}`} href={link} rel=\"noopener noreferrer\">Join Now</a>\n            {!installed && <StyledDownloads id=\"links\">\n                <h2 className=\"title\">Install Webrowse Extension First</h2>\n                <ul className=\"browsers\">\n                    <li className=\"bro\">\n                        <img src=\"https://static.nicegoodthings.com/project/vera/wb.chrome.png\" alt=\"chrome browser icon\" />\n                        <span className=\"name\">Chrome</span>\n                        <a className=\"link\" href=\"https://chrome.google.com/webstore/detail/webrowse-sync-tabs-with-y/nnbkebemeehfhiimeghnkdocfbeogenn\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            download\n                        </a>\n                    </li>\n                    <li className=\"bro\">\n                        <img src=\"https://static.nicegoodthings.com/project/vera/wb.edge.png\" alt=\"chrome browser icon\" />\n                        <span className=\"name\">Edge</span>\n                        <a className=\"link\" href=\"https://chrome.google.com/webstore/detail/webrowse-sync-tabs-with-y/nnbkebemeehfhiimeghnkdocfbeogenn\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            download\n                        </a>\n                    </li>\n                    <li className=\"bro\">\n                        <img src=\"https://static.nicegoodthings.com/project/vera/wb.firefox.png\" alt=\"chrome browser icon\" />\n                        <span className=\"name\">Coming soon</span>\n                        <a className=\"link soon\" href=\"#\" rel=\"noopener noreferrer\">\n                            Coming soon\n                        </a>\n                    </li>\n                    <li className=\"bro\">\n                        <img src=\"https://static.nicegoodthings.com/project/vera/wb.safari.png\" alt=\"chrome browser icon\" />\n                        <span className=\"name\">Coming soon</span>\n                        <a className=\"link soon\" href=\"#\" rel=\"noopener noreferrer\">\n                            Coming soon\n                        </a>\n                    </li>\n                </ul>\n            </StyledDownloads>}\n\n            <footer>\n                <img className=\"logo\" src=\"https://static.nicegoodthings.com/project/ext/webrowse.logo.png\" alt=\"logo\" />\n                <span className=\"title\">Webrowse</span>\n            </footer>\n        </StyledWrapper>\n    )\n}\n"],"names":["SubscriptionCreate","FetchInviteData","StyledWrapper","styled","section","withConfig","displayName","componentId","StyledDownloads","btn_css","extId","checkExtensionInstalled","extid","Promise","resolve","img","document","createElement","src","onload","onerror","InvitePage","rand","setRand","useState","loading","setloading","installed","setInstalled","disallow","setDisallow","link","setLink","title","setTitle","err","setErr","useEffect","_location$hash$split","location","hash","split","async","checkExtInstall","resp","fetch","obj","json","console","log","roomId","winId","win","activeUsers","user","level","length","error","fetchData","React","style","color","className","href","rel","id","alt","target"],"sourceRoot":""}