{"version":3,"file":"component---src-pages-i-js-f0ec8b66360c008de218.js","mappings":"iNAEMA,E,KAAgBC,QAAAA,QAAAA,WAAH,4DAAGA,CAAH,uJAcJ,SAASC,IACpB,OAAwBC,EAAAA,EAAAA,UAAS,IAA1BC,EAAP,KAAaC,EAAb,KACA,GAAwBF,EAAAA,EAAAA,UAAS,IAA1BG,EAAP,KAAaC,EAAb,KACA,GAAsBJ,EAAAA,EAAAA,UAAS,IAAxBK,EAAP,KAAYC,EAAZ,KAkCA,OAjCAC,EAAAA,EAAAA,YAAU,WAAO,IAAD,EACNN,EAAI,UAAGO,SAASC,KAAKC,MAAM,YAAvB,aAAG,EAA2B,GACpCT,GACAC,EAAQD,KAEb,KACHM,EAAAA,EAAAA,YAAU,WACN,IAAMI,EAAS,mCAAG,uHAESC,MAAM,0CAA0CX,GAFzD,cAEJY,EAFI,gBAGQA,EAAKC,OAHb,UAGJC,EAHI,OAIVC,QAAQC,IAAI,CAAEF,IAAAA,IACTA,EALK,wBAMNT,EAAO,OAND,2BASVF,EAAQc,KAAKC,UAAUJ,IATb,EAUYA,EAAdK,KAVE,cAUK,GAVL,GAWmBV,MAAM,KAA5BW,EAXG,KAWKC,EAXL,KAYND,GAAUC,EACVd,SAASe,KAAT,0CAA0DF,EAA1D,QAAwEC,EAAxE,0CAEAhB,EAAO,SAfD,kDAkBVA,EAAO,UAlBG,0DAAH,qDAsBXL,GACAU,MAEL,CAACV,IACAI,EACO,gBAACR,EAAD,CAAe2B,MAAO,CAAEC,MAAO,SAClC,uBAAKC,UAAU,OACVrB,IAKTF,EAAO,KAAO,gBAACN,EAAD,KACV,uBAAK6B,UAAU,OAAf","sources":["webpack://webrowse-landing/./src/pages/i.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components';\nconst StyledWrapper = styled.section`\n  width:100vw;\n  height:100vh;\n  background:#fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .tip{\n      color: #333;\n      font-size: 30px;\n      font-weight: bold;\n\n  }\n`;\nexport default function InvitePage() {\n    const [rand, setRand] = useState('')\n    const [link, setLink] = useState(\"\");\n    const [err, setErr] = useState(\"\");\n    useEffect(() => {\n        const rand = location.hash.split('#')?.[1];\n        if (rand) {\n            setRand(rand)\n        }\n    }, [])\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const resp = await fetch(`https://vera.nicegoodthings.com/invite/${rand}`);\n                const obj = await resp.json();\n                console.log({ obj });\n                if (!obj) {\n                    setErr(\"空数据\");\n                    return;\n                }\n                setLink(JSON.stringify(obj))\n                const { data = \"\" } = obj;\n                const [roomId, winId] = data.split('|');\n                if (roomId && winId) {\n                    location.href = `https://nicegoodthings.com/transfer/wb/${roomId}?wid=${winId}&extid=nnbkebemeehfhiimeghnkdocfbeogenn`\n                } else {\n                    setErr('参数不完整')\n                }\n            } catch (error) {\n                setErr(\"API 有误\")\n            }\n\n        }\n        if (rand) {\n            fetchData()\n        }\n    }, [rand])\n    if (err) {\n        return <StyledWrapper style={{ color: '#fff' }}>\n            <div className=\"tip\">\n                {err}\n            </div>\n        </StyledWrapper>\n    }\n    return (\n        link ? null : <StyledWrapper>\n            <div className=\"tip\">\n                Waiting...\n            </div>\n        </StyledWrapper>\n    )\n}\n"],"names":["StyledWrapper","styled","InvitePage","useState","rand","setRand","link","setLink","err","setErr","useEffect","location","hash","split","fetchData","fetch","resp","json","obj","console","log","JSON","stringify","data","roomId","winId","href","style","color","className"],"sourceRoot":""}