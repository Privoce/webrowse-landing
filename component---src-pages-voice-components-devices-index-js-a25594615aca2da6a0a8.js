"use strict";(self.webpackChunkwebrowse_landing=self.webpackChunkwebrowse_landing||[]).push([[5260,7248],{1722:function(e,t,a){a.r(t);var l=a(7294),n=a(3494),o=a(9390);const i=n.default.div.withConfig({displayName:"Selector__StyledSelector",componentId:"sc-8ljg19-0"})([".selector{width:380px;padding:0 12px;box-sizing:border-box;border:1px solid rgba(208,213,221,1);border-radius:8px;display:flex;align-items:center;}.icon{}.selectMain{position:relative;width:100%;flex:1;margin:0 6px;}.select{width:100%;height:44px;opacity:0;cursor:pointer;}.value{position:absolute;line-height:44px;font-size:16px;color:rgba(52,64,84,1);}"]);t.default=e=>{var t;let{icon:a=null,data:n=[],value:r="default",onChange:c=(()=>{})}=e;return l.createElement(i,null,l.createElement("div",{className:"selector"},a,l.createElement("div",{className:"selectMain"},l.createElement("div",{className:"value"},l.createElement("span",{className:"textLineClamp-1"},null===(t=n.find((e=>e.deviceId===r)))||void 0===t?void 0:t.label)),l.createElement("select",{className:"select",onChange:e=>{console.log(e.target.value,"ev"),c(e.target.value)}},null==n?void 0:n.map((e=>l.createElement("option",{key:e.deviceId,value:e.deviceId},e.label))))),l.createElement(o.DropDown,null)))}},265:function(e,t,a){a.r(t);var l=a(7294),n=a(4778),o=a(1722),i=a(9390),r=a(77),c=a(881),d=a(6963),s=a.n(d),u=a(7707);const p=(e,t)=>{let{devices:a=[],access:d=(()=>{})}=e,p=(0,l.useRef)(null);const{state:m,dispatch:v}=(0,l.useContext)(r.VoiceContext),{0:b,1:g}=(0,l.useState)(""),{0:h,1:f}=(0,l.useState)(""),{0:x,1:E}=(0,l.useState)(""),{0:y,1:w}=(0,l.useState)(null),{0:k,1:C}=(0,l.useState)(null),{0:I,1:N}=(0,l.useState)(0),S=null==m?void 0:m.permissionState,{videoEnabled:_,audioEnabled:D}=m||{};(0,l.useEffect)((()=>{var e,t,l;const n=null===(e=a.find((e=>"audioinput"===e.kind)))||void 0===e?void 0:e.deviceId;g(n);const o=null===(t=a.find((e=>"audioinput"===e.kind)))||void 0===t?void 0:t.deviceId;f(o);const i=null===(l=a.find((e=>"videoinput"===e.kind)))||void 0===l?void 0:l.deviceId;E(i)}),[a]),(0,l.useEffect)((()=>{if(!b||!x)return;let e,t;return(async()=>{[e,t]=await s().createMicrophoneAndCameraTracks({microphoneId:b},{cameraId:x}),w(e),C(t),p=setInterval((()=>{var t;const a=null===(t=e)||void 0===t?void 0:t.getVolumeLevel();console.log("local stream audio level",a),N(a)}),200)})(),v({type:r.UPDATE_DEVICES_ID,payload:{type:"camera",id:x}}),v({type:r.UPDATE_DEVICES_ID,payload:{type:"microphone",id:b}}),()=>{e=null,t=null,clearInterval(p),null==y||y.close(),null==k||k.close()}}),[b,x]);const T=()=>{v({type:r.UPDATE_PERMISSION_STATE,payload:"complete"}),v({type:r.UPDATE_STATUS,payload:"will-join"}),null==y||y.close(),null==k||k.close()};(0,l.useImperativeHandle)(t,(()=>({join(){T()}})));return l.createElement(n.default,null,l.createElement("div",{className:"modal"},l.createElement("div",null,l.createElement("h3",{className:"title"},"Privoce Daily Meeting"),"allow"===S&&l.createElement("div",{className:"playerWrap"},l.createElement(c.default,{videoTrack:k,audioTrack:null}),l.createElement("div",{className:"buttons"},l.createElement(u.default,{onClick:()=>v({type:r.UPDATE_DEVICES_ENABLED,payload:{devices:"video",enabled:!_}}),type:"cam",label:null,disabled:!_}),l.createElement(u.default,{onClick:()=>v({type:r.UPDATE_DEVICES_ENABLED,payload:{devices:"audio",enabled:!D}}),label:null,volumeLevel:I,disabled:!D}))),function(e){return void 0===e&&(e=[]),e.length?l.createElement(l.Fragment,null,l.createElement(o.default,{value:x,icon:l.createElement(i.Camera,null),data:e.filter((e=>"videoinput"===e.kind)),onChange:e=>{E(e)}}),l.createElement("div",{className:"space"}),l.createElement(o.default,{value:b,icon:l.createElement(i.Mic,null),data:e.filter((e=>"audioinput"===e.kind)),onChange:e=>{g(e)}}),l.createElement("div",{className:"space"}),l.createElement(o.default,{value:h,icon:l.createElement(i.Speaker,null),data:e.filter((e=>"audiooutput"===e.kind)),onChange:e=>{f(e)}})):null}(a),l.createElement("div",{className:"statusText"},"allow"===S?"In order for others to hear you, your browser will request microphone access.":"We donâ€™t have access to your Microphone and Mic."),l.createElement("div",{className:"descText"},"Warning: Voice only works in one tab, Make sure do not close the tab you started Voice with, once you close the tab, you have to restart again.")),l.createElement("div",null,"allow"===S?l.createElement("button",{className:"button",onClick:T},"Join Meeting"):l.createElement("button",{className:"button",onClick:d},"Request access"))))};t.default=(0,l.forwardRef)(p)},4778:function(e,t,a){a.r(t);const l=a(3494).default.section.withConfig({displayName:"styles__StyledDevices",componentId:"sc-tn8d7h-0"})(["width:100vw;height:100vh;background:#fff;display:flex;align-items:center;justify-content:center;.modal{display:flex;flex-direction:column;justify-content:space-between;padding:32px 16px;box-sizing:border-box;width:412px;min-height:462px;box-shadow:0px 4px 14px 2px rgba(0,0,0,0.16);border-radius:8px;}.title{font-size:20px;color:rgba(68,73,79,1);line-height:30px;text-align:center;margin-bottom:32px;}.space{height:8px;}.statusText{margin:32px 0 8px;text-align:center;word-break:break-all;font-size:16px;color:rgba(68,73,79,1);line-height:24px;}.descText{text-align:center;word-break:break-all;font-size:12px;color:rgba(92,96,101,1);line-height:18px;}.button{display:block;width:150px;height:32px;border:none;background-color:rgba(82,237,255,1);color:rgba(25,24,29,1);margin:32px auto 0;border-radius:50px;cursor:pointer;}.playerWrap{position:relative;height:240px;margin:0 -16px;background-color:rgba(25,24,29,1);margin-bottom:16px;.player{width:100%;height:240px;}.buttons{position:absolute;left:50%;transform:translateX(-50%);bottom:16px;display:flex;}}"]);t.default=l},7707:function(e,t,a){a.r(t);var l=a(9390),n=a(7294);const o=a(3494).default.div.withConfig({displayName:"Button__StyledButton",componentId:"sc-152vati-0"})([".button{border:none;background:none !important;cursor:pointer;margin:0 !important;width:auto !important;height:auto !important;&:disabled{opacity:0.3;}&Icon{position:relative;width:48px;height:48px;background-color:#f26b4d;border-radius:12px;display:flex;align-items:center;justify-content:center;overflow:hidden;&:hover{background-color:#c35037;}}.text{color:#fff;font-size:14px;margin-top:10px;text-align:center;}&Inner{}.level{transition:height 0.3s;position:absolute;left:0;bottom:0;width:100%;height:0;background-color:rgba(0,0,0,.35);}}"]),i=new Map([["mic",[n.createElement(l.Audio,null),n.createElement(l.AudioClose,null)]],["cam",[n.createElement(l.Video,null),n.createElement(l.VideoClose,null)]]]);new Map([["mic","Mic"],["cam","Cam"]]);t.default=e=>{var t;let{onClick:a=(()=>{}),label:l=!0,disabled:r=!1,volumeLevel:c=0,type:d="mic"}=e;return n.createElement(o,null,n.createElement("button",{onClick:a,className:"button"},n.createElement("div",{className:"buttonInner"},n.createElement("div",{className:"buttonIcon"},null===(t=i.get(d))||void 0===t?void 0:t[r?1:0],n.createElement("span",{style:{height:100*c+"px"},className:"level"})),l&&n.createElement("div",{className:"text"},d.replace(d[0],d[0].toUpperCase())))))}}}]);
//# sourceMappingURL=component---src-pages-voice-components-devices-index-js-a25594615aca2da6a0a8.js.map