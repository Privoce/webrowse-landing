{"version":3,"file":"component---src-pages-i-js-91038ff528a64bbe7143.js","mappings":"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","sources":["webpack://webrowse-landing/./src/constants/ButtonCss.js","webpack://webrowse-landing/./src/pages/i.js"],"sourcesContent":["const css = `\n    cursor: pointer;\n    text-decoration: none;\n    border-radius: 50px;\n    background: #52EDFF;\n    border:none;\n    font-size: 14px;\n    font-weight: bold;\n    padding: 12px 24px;\n    color: #000;\n    display: flex;\n    align-items: center;\n`;\n\n\nexport default css;","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components';\nimport btn_css from '../constants/ButtonCss'\n\nconst StyledWrapper = styled.section`\nposition: relative;\n  width:100vw;\n  height:100vh;\n  background:#fff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 32px;\n  .tip{\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    color: #44494F;\n    font-weight: bold;\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 20px;\n    gap: 10px;\n    em{\n        font-weight: 600;\n    }\n    .warning{\n        color: orange;\n        font-size: 20px;\n        line-height: 28px;\n    }\n  }\n  .btn{\n    background-color: #52E9FB;\n    border-radius: 20px;\n    color: #fff;\n    font-weight: bold;\n    font-size: 12px;\n    line-height: 18px;\n    padding: 4px 12px;\n    text-decoration: none;\n    &.disable{\n        background-color: #aaa;\n        pointer-events: none;\n    }\n  }\n  footer{\n      position: absolute;\n      bottom: 30px;\n      left: 50%;\n      transform: translateX(-50%);\n    font-weight: 600;\n    font-size: 20px;\n    line-height: 20px;\n    color:#44494F;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    .logo{\n        width:32px ;\n        height: 32px;\n    }\n  }\n`;\nconst StyledDownloads = styled.section`\n    padding:10px 0;\n    color: #fff;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap:64px ;\n    >.title{\n        color: #1C1C1E;\n      /* font-weight: bold; */\n      font-weight: 500;\n        font-size: 18px;\n        line-height: 20px;\n    }\n    .browsers{\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: center;\n      gap: 96px;\n      .bro{\n        color:inherit;\n        \n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 16px;\n        img{\n          width:64px ;\n          height: 64px;\n\n        }\n        .name{\n          font-size: 14px;\n          line-height: 14px;\n          text-align: center;\n          @media screen and (max-width: 414px) {\n            width: 64px;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n          }\n        }\n        .link{\n          margin-top: 8px;\n          text-transform: capitalize;\n          ${btn_css}\n          &.soon{\n            background: rgba(255, 255, 255, 0.2);\n          }\n        }\n      }\n    }\n`;\nconst extId = `nnbkebemeehfhiimeghnkdocfbeogenn`;\nconst checkExtensionInstalled = (extid) => {\n    extid = extid || 'ccegbnlnelhgaefimiaklaindffpfcmh';\n    const checkUrl = `chrome-extension://${extid}/assets/icon/logo.png`;\n    return new Promise((resolve) => {\n        let img = document.createElement('img');\n        img.src = checkUrl;\n        img.onload = () => {\n            resolve(true);\n        };\n        img.onerror = () => {\n            resolve(false);\n        };\n    });\n};\nexport default function InvitePage() {\n    const [rand, setRand] = useState('');\n    const [loading, setloading] = useState(true);\n    const [installed, setInstalled] = useState(true);\n    const [disallow, setDisallow] = useState(false);\n    const [link, setLink] = useState(\"\");\n    const [title, setTitle] = useState(\"\");\n    const [err, setErr] = useState(\"\");\n    useEffect(() => {\n        const rand = location.hash.split('#')?.[1];\n        if (rand) {\n            setRand(rand)\n        }\n        const checkExtInstall = async () => {\n            const installed = await checkExtensionInstalled(extId);\n            setInstalled(installed)\n        }\n        checkExtInstall()\n    }, [])\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const resp = await fetch(`https://vera.nicegoodthings.com/invite/${rand}`);\n                const obj = await resp.json();\n                console.log({ obj });\n                if (!obj) {\n                    setErr(\"空数据\");\n                    return;\n                }\n                const { roomId, winId, win, activeUsers } = obj;\n                setLink(`https://nicegoodthings.com/transfer/wb/${roomId}?wid=${winId}&extid=${extId}`)\n                setTitle(win?.title || \"Temporary Window\")\n                setloading(false);\n                // 检查参与人数的限制\n                if (win.user && win.user.level == 0 && activeUsers.length >= 5) {\n                    setDisallow(true);\n                }\n            } catch (error) {\n                setErr(\"API 有误\")\n            }\n\n        }\n        if (rand) {\n            fetchData()\n        }\n    }, [rand])\n    if (err) {\n        return <StyledWrapper style={{ color: '#fff' }}>\n            <div className=\"tip\">\n                {err}\n            </div>\n        </StyledWrapper>\n    }\n    return (\n        loading ? null : <StyledWrapper>\n            <div className=\"tip\">\n                <p>You're invited to join <em>{title}</em></p>\n                {disallow && <p className=\"warning\">Active users over the limit, contact the inviter please.</p>}\n            </div>\n            <a className={`btn ${(!installed || disallow) ? \"disable\" : ''}`} href={link} rel=\"noopener noreferrer\">Join Now</a>\n            {!installed && <StyledDownloads id=\"links\">\n                <h2 className=\"title\">Install Webrowse Extension First</h2>\n                <ul className=\"browsers\">\n                    <li className=\"bro\">\n                        <img src=\"https://static.nicegoodthings.com/project/vera/wb.chrome.png\" alt=\"chrome browser icon\" />\n                        <span className=\"name\">Chrome</span>\n                        <a className=\"link\" href=\"https://chrome.google.com/webstore/detail/webrowse-sync-tabs-with-y/nnbkebemeehfhiimeghnkdocfbeogenn\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            download\n                        </a>\n                    </li>\n                    <li className=\"bro\">\n                        <img src=\"https://static.nicegoodthings.com/project/vera/wb.edge.png\" alt=\"chrome browser icon\" />\n                        <span className=\"name\">Edge</span>\n                        <a className=\"link\" href=\"https://chrome.google.com/webstore/detail/webrowse-sync-tabs-with-y/nnbkebemeehfhiimeghnkdocfbeogenn\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            download\n                        </a>\n                    </li>\n                    <li className=\"bro\">\n                        <img src=\"https://static.nicegoodthings.com/project/vera/wb.firefox.png\" alt=\"chrome browser icon\" />\n                        <span className=\"name\">Coming soon</span>\n                        <a className=\"link soon\" href=\"#\" rel=\"noopener noreferrer\">\n                            Coming soon\n                        </a>\n                    </li>\n                    <li className=\"bro\">\n                        <img src=\"https://static.nicegoodthings.com/project/vera/wb.safari.png\" alt=\"chrome browser icon\" />\n                        <span className=\"name\">Coming soon</span>\n                        <a className=\"link soon\" href=\"#\" rel=\"noopener noreferrer\">\n                            Coming soon\n                        </a>\n                    </li>\n                </ul>\n            </StyledDownloads>}\n\n            <footer>\n                <img className=\"logo\" src=\"https://static.nicegoodthings.com/project/ext/webrowse.logo.png\" alt=\"logo\" />\n                <span className=\"title\">Webrowse</span>\n            </footer>\n        </StyledWrapper>\n    )\n}\n"],"names":["StyledWrapper","styled","StyledDownloads","btn_css","extId","checkExtensionInstalled","extid","checkUrl","Promise","resolve","img","document","createElement","src","onload","onerror","InvitePage","useState","rand","setRand","loading","setloading","installed","setInstalled","disallow","setDisallow","link","setLink","title","setTitle","err","setErr","useEffect","location","hash","split","checkExtInstall","fetchData","fetch","resp","json","obj","console","log","roomId","winId","win","activeUsers","user","level","length","style","color","className","href","rel","id","alt","target"],"sourceRoot":""}