{"version":3,"file":"component---src-pages-window-js-ad866c5052d2216f9fcd.js","mappings":"mOAGA,MAAMA,GAAOC,EAAAA,EAAAA,WAAS,wGAWhBC,EAAYC,EAAAA,QAAOC,QAAOC,WAAA,CAAAC,YAAA,oBAAAC,YAAA,gBAAdJ,CAAc,6qCAQjBH,GAuETQ,EAAU,CACdC,EAAG,wBACHC,EAAG,wCACHC,EAAG,mCAEU,SAASC,IACtB,MAAMC,GAAUC,EAAAA,EAAAA,QAAO,OACjB,EAACC,EAAM,EAACC,IAAYC,EAAAA,EAAAA,UAAS,OAC7B,EAACC,EAAK,EAACC,IAAWF,EAAAA,EAAAA,UAAS,OACjCG,EAAAA,EAAAA,YAAU,KACgBC,WACtB,IACE,MAAMC,EAAS,IAAIC,gBAAgBC,SAASC,QACtCC,EAAOJ,EAAOK,IAAI,QAAU,IAC5BC,EAAMN,EAAOK,IAAI,OAEvB,GADAE,QAAQC,IAAIF,IACPA,EAAK,OACV,MAAMG,QAAaC,MAASxB,EAAQkB,GAAK,oBAAoBE,GAC7D,IAAIK,QAAYF,EAAKG,OACrBL,QAAQC,IAAI,CAAEG,QACd,MAAOE,GAAOF,EAAIG,QAAU,GAC5BjB,EAAQgB,EACV,CAAE,MAAOpB,GACPc,QAAQC,IAAI,CAAEf,UACdC,EAASD,EAAMsB,QACjB,GAEFC,EAAiB,GAChB,IAOH,GAAIvB,EAAO,OAAOA,EAClB,IAAKG,EAAM,MAAO,UAClB,MAAM,MAAEqB,EAAK,KAAEC,GAAStB,EACxB,OACEuB,EAAAA,cAACvC,EAAS,KACRuC,EAAAA,cAAA,OAAKC,UAAU,WACbD,EAAAA,cAAA,MAAIC,UAAU,SAASH,GACvBE,EAAAA,cAAA,MAAIC,UAAU,OAAOC,IAAK9B,GACvB2B,EAAKI,KAAIC,IAA+B,IAA9B,GAAEC,EAAE,MAAEP,EAAK,KAAEQ,EAAI,IAAEC,GAAKH,EACjC,OAAOJ,EAAAA,cAAA,MAAIC,UAAU,MAAMO,IAAKH,EAAIP,MAAOA,GACzCE,EAAAA,cAAA,KAAGC,UAAU,OAAOQ,KAAMF,EAAKG,OAAO,SAASC,MAAO,CAAEC,gBAAgB,OAAQN,EAAI,MAAQR,GACzF,KAGTE,EAAAA,cAAA,UAAQC,UAAU,MAAMY,QApBRC,MACTC,EAAAA,EAAAA,GAAO3C,EAAQ4C,QAAQC,iBAAiB,UAC7CC,SAAQlD,IACZA,EAAEmD,OAAO,GACT,GAgBkD,aAMxD,CACO,SAASC,IACd,OACEpB,EAAAA,cAAA,aAAO,gCAEX,C","sources":["webpack://webrowse-landing/./src/pages/window.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport styled, { keyframes } from 'styled-components';\n\nconst AniG = keyframes`\n0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n`;\nconst StyledTip = styled.section`\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\n  background-size: 400% 400%;\n  animation: ${AniG} 15s ease infinite;\n  .content{\n    user-select: none;\n    color:#fff;\n    width: fit-content;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  .title{\n    font-size: 60px;\n    font-weight: 800;\n    margin-bottom: 60px;\n  }\n  .tabs{\n    max-height: 52vh;\n    overflow: scroll;\n    font-size: 30px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    list-style: none;\n    gap: 10px;\n    .tab{\n      font-size: 24px;\n      padding: 12px 0px 12px 25px;\n      border-radius: 10px;\n      border: 1px solid #eee;\n      transition: all .4s ease-in;\n      width: 600px;\n      .link{\n        padding:0 25px 0 35px;\n        display: block;\n        line-height: 2;\n        color:#fff;\n        text-decoration: none;\n        background-repeat: no-repeat;\n        background-size: 25px;\n        background-position-x: left;\n        background-position-y: center;\n        width: 100%;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      &:hover{\n        background:#eee;\n        .link{\n          color:#333\n        }\n      }\n    }\n  }\n  .btn{\n    cursor: pointer;\n    font-size: 30px;\n    padding: 12px 10px;\n    border-radius: 10px;\n    border: 1px solid #eee;\n    text-transform: uppercase;\n    background:none;\n    color: #fff;\n    margin-top: 30px;\n    transition: all .4s ease-in;\n    &:hover{\n        background:#eee;\n        color:#555;\n    }\n  }\n  }\n`;\nconst prefixs = {\n  l: 'http://localhost:4000',\n  s: 'https://stage.vera.nicegoodthings.com',\n  o: 'https://vera.nicegoodthings.com'\n}\nexport default function Window() {\n  const tabsRef = useRef(null);\n  const [error, setError] = useState(null)\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    const getWindowDetail = async () => {\n      try {\n        const params = new URLSearchParams(location.search)\n        const from = params.get('env') || 'o'\n        const wid = params.get('wid');\n        console.log(wid);\n        if (!wid) return;\n        const resp = await fetch(`${prefixs[from]}/webrowse/window/${wid}`);\n        let obj = await resp.json();\n        console.log({ obj });\n        const [win] = obj.window || [];\n        setData(win)\n      } catch (error) {\n        console.log({ error });\n        setError(error.message)\n      }\n    }\n    getWindowDetail()\n  }, []);\n  const handleOpenAll = () => {\n    const links = [...tabsRef.current.querySelectorAll('.link')];\n    links.forEach(l => {\n      l.click()\n    })\n  }\n  if (error) return error;\n  if (!data) return 'loading';\n  const { title, tabs } = data;\n  return (\n    <StyledTip>\n      <div className=\"content\">\n        <h1 className=\"title\">{title}</h1>\n        <ul className=\"tabs\" ref={tabsRef}>\n          {tabs.map(({ id, title, icon, url }) => {\n            return <li className=\"tab\" key={id} title={title}>\n              <a className=\"link\" href={url} target=\"_blank\" style={{ backgroundImage: `url(${icon})` }}>{title}</a>\n            </li>\n          })}\n        </ul>\n        <button className=\"btn\" onClick={handleOpenAll}>\n          open all\n        </button>\n      </div>\n    </StyledTip>\n  )\n}\nexport function Head() {\n  return (\n    <title>workspace window landing page</title>\n  )\n}"],"names":["AniG","keyframes","StyledTip","styled","section","withConfig","displayName","componentId","prefixs","l","s","o","Window","tabsRef","useRef","error","setError","useState","data","setData","useEffect","async","params","URLSearchParams","location","search","from","get","wid","console","log","resp","fetch","obj","json","win","window","message","getWindowDetail","title","tabs","React","className","ref","map","_ref","id","icon","url","key","href","target","style","backgroundImage","onClick","handleOpenAll","_toConsumableArray","current","querySelectorAll","forEach","click","Head"],"sourceRoot":""}