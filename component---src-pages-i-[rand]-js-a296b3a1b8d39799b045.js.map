{"version":3,"file":"component---src-pages-i-[rand]-js-a296b3a1b8d39799b045.js","mappings":"iNAEMA,E,KAAgBC,QAAAA,QAAAA,WAAH,+DAAGA,CAAH,uJAcJ,SAASC,EAAT,GAA+B,IAATC,EAAQ,EAARA,KACjC,GAAwBC,EAAAA,EAAAA,UAAS,IAA1BC,EAAP,KAAaC,EAAb,KACA,GAAsBF,EAAAA,EAAAA,UAAS,IAAxBG,EAAP,KAAYC,EAAZ,KA4BA,OA3BAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAS,mCAAG,uHAESC,MAAM,0CAA0CR,GAFzD,cAEJS,EAFI,gBAGQA,EAAKC,OAHb,UAGJC,EAHI,OAIVC,QAAQC,IAAI,CAAEF,IAAAA,IACTA,EALK,wBAMNN,EAAO,OAND,2BASVF,EAAQW,KAAKC,UAAUJ,IATb,EAUYA,EAAdK,KAVE,cAUK,GAVL,GAWmBC,MAAM,KAA5BC,EAXG,KAWKC,EAXL,KAYND,GAAUC,EACVC,SAASC,KAAT,0CAA0DH,EAA1D,QAAwEC,EAAxE,0CAEAd,EAAO,SAfD,kDAkBVA,EAAO,UAlBG,0DAAH,qDAsBXL,GACAO,MAEL,CAACP,IACAI,EACO,gBAACP,EAAD,CAAeyB,MAAO,CAAEC,MAAO,SAClC,uBAAKC,UAAU,OACVpB,IAKTF,EAAO,KAAO,gBAACL,EAAD,KACV,uBAAK2B,UAAU,OAAf","sources":["webpack://webrowse-landing/./src/pages/i/[rand].js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components';\nconst StyledWrapper = styled.section`\n  width:100vw;\n  height:100vh;\n  background:#fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .tip{\n      color: #333;\n      font-size: 30px;\n      font-weight: bold;\n\n  }\n`;\nexport default function InvitePage({ rand }) {\n    const [link, setLink] = useState(\"\");\n    const [err, setErr] = useState(\"\")\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const resp = await fetch(`https://vera.nicegoodthings.com/invite/${rand}`);\n                const obj = await resp.json();\n                console.log({ obj });\n                if (!obj) {\n                    setErr(\"空数据\");\n                    return;\n                }\n                setLink(JSON.stringify(obj))\n                const { data = \"\" } = obj;\n                const [roomId, winId] = data.split('|');\n                if (roomId && winId) {\n                    location.href = `https://nicegoodthings.com/transfer/wb/${roomId}?wid=${winId}&extid=nnbkebemeehfhiimeghnkdocfbeogenn`\n                } else {\n                    setErr('参数不完整')\n                }\n            } catch (error) {\n                setErr(\"API 有误\")\n            }\n\n        }\n        if (rand) {\n            fetchData()\n        }\n    }, [rand])\n    if (err) {\n        return <StyledWrapper style={{ color: '#fff' }}>\n            <div className=\"tip\">\n                {err}\n            </div>\n        </StyledWrapper>\n    }\n    return (\n        link ? null : <StyledWrapper>\n            <div className=\"tip\">\n                Waiting...\n            </div>\n        </StyledWrapper>\n    )\n}\n"],"names":["StyledWrapper","styled","InvitePage","rand","useState","link","setLink","err","setErr","useEffect","fetchData","fetch","resp","json","obj","console","log","JSON","stringify","data","split","roomId","winId","location","href","style","color","className"],"sourceRoot":""}